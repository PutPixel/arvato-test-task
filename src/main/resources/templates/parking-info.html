<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
</head>
<body ng-app="myApp">
	<script type="text/javascript">
    	window.parkingInfo = @@parkingInfoJson@@
    	window.invoice = @@invoice@@
	</script>
	<div class="container" ng-controller="ParkingInfoController"
		ng-init="init()">
		<div ng-if="!invoice" class="page-header">
			<h1>Parking info for @@clientName@@, @@period@@</h1>
		</div>
		<div ng-if="invoice" class="page-header">
			<h1>Invoice for @@clientName@@, @@period@@</h1>
			<h1>Number {{invoice.number}}</h1>
		</div>
		<div class="form-group"
			ng-repeat="(car, infos) in parkingInfo | groupBy:'alias'">
			<div class="col-xs-12 page-header">
				<label> {{car}} </label>
			</div>
			<div>
				<div class="col-xs-3"></div>
				<div class="col-xs-3">
					<label>Park start time</label>
				</div>
				<div class="col-xs-3">
					<label>Park end time</label>
				</div>
				<div class="col-xs-3 text-right">
					<label>Cost</label>
				</div>
			</div>
			<div ng-repeat="info in infos">
				<div class="col-xs-3"></div>
				<div class="col-xs-3">{{info.start}}</div>
				<div class="col-xs-3">{{info.end}}</div>
				<div class="col-xs-3 text-right">{{info.cost}} $</div>
			</div>
		</div>
		<a ng-if="!invoice" href="./invoice" class="pull-left btn btn-danger">Show
			invoice</a>

		<div ng-if="invoice">
			<div class="col-xs-12 page-header"></div>
			<div class="col-xs-9 text-right">
				<label>Month fee</label>
			</div>
			<div class="col-xs-3 text-right">{{invoice.monthFee}} $</div>
			<div class="col-xs-12 page-header"></div>
			<div class="col-xs-9 text-right">
				<label>Reduction</label>
			</div>
			<div class="col-xs-3 text-right">-{{invoice.reduction}} $</div>
			<div class="col-xs-12 page-header"></div>
			<div class="col-xs-9">
				<label>Total</label>
			</div>
			<div class="col-xs-3 text-right">
				<label>{{invoice.total}} $</label>
			</div>
		</div>
	</div>
	<hr />
	</div>
	<script type="text/javascript"
		src="https://code.angularjs.org/1.3.9/angular.min.js"></script>
	<script type="text/javascript"
		src="https://code.angularjs.org/1.3.9/angular-resource.min.js"></script>
	<script type="text/javascript"
		src="https://code.angularjs.org/1.3.9/angular-route.min.js"></script>
	<script type="text/javascript"
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.5.0/lodash.min.js"></script>
	<script type="text/javascript" src="/app/app.js"></script>
	<script type="text/javascript" src="/app/controllers.js"></script>
	<script type="text/javascript" src="/app/services.js"></script>
</body>
</html>